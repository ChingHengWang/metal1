<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="andbot1dot2">
	<xacro:property name="robotname" value="andbot1dot2"/>
	<!-- Import all Gazebo-customization elements, including Gazebo colors-->
        <xacro:include filename="$(find andbot1dot2)/modeldescription/urdf/andbot1dot2.gazebo" />
        <!-- Import Rviz colors -->
        <xacro:include filename="$(find andbot1dot2)/modeldescription/urdf/andbot1dot2material4rviz.xacro"/>
        <xacro:include filename="$(find andbot1dot2)/modeldescription/urdf/sensors/rplidar_laser.urdf.xacro" />
        <xacro:include filename="$(find andbot1dot2)/modeldescription/urdf/sensors/mpu6050_imu.urdf.xacro" />
		<link name="${robotname}_base">
                <collision>
                        <geometry>
                                <mesh filename="package://andbot1dot2/modeldescription/mesh/andbot1dot2_baseplate.STL"></mesh></geometry></collision>
                <visual>
                        <geometry>
                                <mesh filename="package://andbot1dot2/modeldescription/mesh/andbot1dot2_baseplate.STL"/>
                        </geometry>
                        <material name="blue"></material>
                        <origin rpy="0 0 0" xyz="0 0 0"/>
                </visual>
                <inertial>
                        <mass value="5.702"/>
                        <inertia ixx="0.1866" ixy="0.0" ixz="0.0038" iyy="0.1322" iyz="0.0" izz="0.2826"/>
                </inertial>
        </link>
		<link name="${robotname}_leftwheel">
                <collision>
                        <geometry>
                                <mesh filename="package://andbot1dot2/modeldescription/mesh/andbot1dot2_leftwheel.STL"></mesh></geometry></collision>
                <visual>
                        <geometry>
                                <mesh filename="package://andbot1dot2/modeldescription/mesh/andbot1dot2_leftwheel.STL"/>
                        </geometry>
                        <material name="grey">
                        </material>
                </visual>
                <inertial>
                        <mass value="1.158"/><!-- Is this actually right? -->
                        <inertia ixx="0.0532" ixy="0.0" ixz="0.0" iyy="0.0038" iyz="0.0" izz="0.0532"/>
                </inertial>
        </link>
		<link name="${robotname}_rightwheel">
                <collision>
                        <geometry>
                                <mesh filename="package://andbot1dot2/modeldescription/mesh/andbot1dot2_rightwheel.STL"></mesh></geometry></collision>
                <visual>
                        <geometry>
                                <mesh filename="package://andbot1dot2/modeldescription/mesh/andbot1dot2_rightwheel.STL"/>
                        </geometry>
                        <material name="grey">
                        </material>
                </visual>
                <inertial>
                        <mass value="1.158"/>
                        <inertia ixx="0.0532" ixy="0.0" ixz="0.0" iyy="0.0038" iyz="0.0" izz="0.0532"/>
                </inertial>
        </link>
        <joint name="base2leftwheel" type="continuous">
                <parent link="${robotname}_base"/>
                <child link="${robotname}_leftwheel"/>
                <origin xyz="0 0.20684 0"/>
                <axis xyz="0 -1 0"/>
        </joint>
        <joint name="base2rightwheel" type="continuous">
                <parent link="${robotname}_base"/>
                <child link="${robotname}_rightwheel"/>
                <origin xyz="0 -0.20684 0"/>
                <axis xyz="0 1 0"/>
        </joint>
    <xacro:rplidar_laser name="${robotname}" parent="${robotname}_base" ros_topic="scan" update_rate="40" min_angle="-1.3962634" max_angle="1.3962634" >
    </xacro:rplidar_laser>
    <xacro:mpu6050_imu name="${robotname}" parent="${robotname}_base">
    </xacro:mpu6050_imu>
</robot>
